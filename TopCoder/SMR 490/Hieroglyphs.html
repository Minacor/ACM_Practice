<html><body bgcolor="#ffccff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Hieroglyphs were widely used for writing in ancient times and they are used in some languages even now. In this problem, we will consider a simplified model of hieroglyphs.<br></br><br></br>
Let's call a hieroglyph a two-dimensional figure that consists of several segments, each of which has a positive length and is either horizontal or vertical. The segments in the same hieroglyph can touch or intersect each other, but no two segments may overlap. That is, there are no two segments such that the length of their intersection is positive. The segments are considered to be infinitely thin.<br></br><br></br>
You will be given two hieroglyphs in vector &lt;string&gt; <b>hier1</b> and <b>hier2</b>. Both of them are drawn on the same plane with a Cartesian coordinate system. Each element of <b>hier1</b> will be a comma-separated list of segments. Each segment is formatted "x1 y1 x2 y2" (quotes for clarity), where (x1, y1) and (x2, y2) are the coordinates of its two endpoints (x1 &le; x2, y1 &le; y2). The set of all segments of the first hieroglyph is the union of all segments presented in elements of <b>hier1</b>. The set of all segments of the second hieroglyph is given in the same format in elements of <b>hier2</b>. It is guaranteed that both <b>hier1</b> and <b>hier2</b> describe valid hieroglyphs as defined in the previous paragraph.<br></br><br></br>
You are allowed to move each of the hieroglyphs to an arbitrary place on the plane via translation (See notes). No other operations like applying rotation or symmetry are allowed.
Once the positions for each hieroglyph are chosen, their union is defined as a set of points on the plane that belong to at least one of them. It's easy to see that union of two hieroglyphs can be represented as a set of non-overlapping segments. You are to minimize the total length of these segments.<br></br><br></br>
Return this minimum possible total length.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Hieroglyphs</td></tr><tr><td>Method:</td><td>minimumVisible</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int minimumVisible(vector &lt;string&gt; hier1, vector &lt;string&gt; hier2)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Translation is an operation that moves every point a constant distance in a specified direction. More exactly, an arbitrary vector (dx, dy) is first chosen, and then translation works as moving each point (x, y) to (x + dx, y + dy).</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>hier1</b> and <b>hier2</b> will each contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>hier1</b> and <b>hier2</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>hier1</b> and <b>hier2</b> will be a single comma separated list of between 1 and 4 segment descriptions, inclusive, without leading and trailing commas.</td></tr><tr><td align="center" valign="top">-</td><td>Each segment description will be formatted "x1 y1 x2 y2" (quotes for clarity), where x1, y1, x2 and y2 are integers between 0 and 80, inclusive, with no extra leading zeros.</td></tr><tr><td align="center" valign="top">-</td><td>In each segment description, x1 will be less than or equal to x2 and y1 will be less than or equal to y2.</td></tr><tr><td align="center" valign="top">-</td><td>Each segment will be either horizontal or vertical and will have a positive length.</td></tr><tr><td align="center" valign="top">-</td><td>No two segments of the same hieroglyph will overlap (as defined in the statement).</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;0 0 10 0,10 0 10 3&quot;}</pre></td></tr><tr><td><pre>{&quot;0 1 10 1&quot;,&quot;5 1 5 4&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 16</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/Hieroglyphs/sample0pic1.gif"></img>
<img src="http://www.topcoder.com/contest/problem/Hieroglyphs/sample0pic2.gif"></img>
<br></br>
Here it's better to combine the horizontal line segments than the vertical ones.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;1 1 1 5&quot;}</pre></td></tr><tr><td><pre>{&quot;3 2 5 2&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/Hieroglyphs/sample1pic1.gif"></img>
<br></br>
There is no way to combine the hieroglyphs in such a way that segments overlap.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;0 2 6 2&quot;}</pre></td></tr><tr><td><pre>{&quot;5 1 6 1,8 1 9 1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2"><img src="http://www.topcoder.com/contest/problem/Hieroglyphs/sample2pic1.gif"></img>
<img src="http://www.topcoder.com/contest/problem/Hieroglyphs/sample2pic2.gif"></img></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;10 20 10 30,15 20 15 30&quot;,&quot;10 20 15 20,0 30 30 30&quot;}</pre></td></tr><tr><td><pre>{&quot;0 5 0 15,5 5 5 25&quot;,&quot;0 5 5 5,0 15 5 15&quot;}
</pre></td></tr></table></td></tr><tr><td><pre>Returns: 65</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;10 10 10 20,10 30 10 40&quot;,&quot;10 10 20 10&quot;}</pre></td></tr><tr><td><pre>{&quot;10 0 10 20,10 27 10 35&quot;,&quot;10 0 20 0&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 45</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
